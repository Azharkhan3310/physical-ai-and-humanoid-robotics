---
id: ed599365-b9d9-475e-adbb-b6a1dc128ac2
title: Fix Docusaurus Deployment on GitHub Pages
stage: green
date: 2025-12-14
surface: agent
model: gemini-1.5-pro
feature: 001-humanoid-robotics-book
branch: main
user: Azharkhan3310
command:
  -
labels:
  - docusaurus
  - github-pages
  - deployment
  - 404-error
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - docusaurus/docusaurus.config.ts
  - .github/workflows/deploy.yml
tests:
  -
---
# PROMPT

You are a senior Docusaurus and GitHub Pages engineer.

Context:
- My Docusaurus site builds and runs locally without errors.
- I want to deploy it on GitHub Pages.
- The deployed site currently shows 404 or fails to load assets.

Your tasks:
1. Inspect my Docusaurus configuration (docusaurus.config.ts).
2. Verify and fix:
   - url: https://github.com/Azharkhan3310
   - baseUrl: https://github.com/Azharkhan3310/physical-ai-and-humanoid-robotics
   - organizationName: "Azharkhan3310"
   - projectName: "physical-ai-and-humanoid-robotics"
3. Verify the build output folder (build/).
4. Ensure the correct GitHub Pages deployment method is used.
5. Detect if the issue is caused by:
   - wrong baseUrl
   - missing homepage in package.json
   - wrong branch (main vs gh-pages)
   - wrong Pages source setting
6. Provide exact changes required (file edits + commands).
7. Provide the correct GitHub Pages URL.
8. Provide a final checklist to avoid 404 errors.

Constraints:
- Do NOT redesign the site.
- Do NOT change content.
- Fix deployment only.
- Prefer the official Docusaurus GitHub Pages method.

Output format:
- Root cause analysis
- Required config changes (with code)
- Deployment commands
- GitHub Pages settings
- Final verification checklist

# RESPONSE
I have analyzed your Docusaurus and GitHub Actions configuration and fixed the issues causing the 404 errors on your deployed GitHub Pages site. Here is a summary of the root cause and the changes made.

### Root Cause Analysis

The deployment was failing due to a combination of incorrect settings in your Docusaurus configuration and the GitHub Actions workflow:

1.  **Incorrect `url` in `docusaurus.config.ts`**: The `url` was set to a non-existent GitHub Pages domain. It should point to your user-level GitHub Pages URL.
2.  **Incorrect `organizationName` in `docusaurus.config.ts`**: The `organizationName` was set to `physical-ai-robotics`. For a personal project repository, this must be your GitHub username (`Azharkhan3310`) for the deployment to resolve correctly.
3.  **Extraneous `cname` in `deploy.yml`**: The GitHub Actions workflow included a `cname` property, which is only used for custom domains. This was interfering with the standard deployment process and causing it to point to the wrong location.

### Required Config Changes

I have applied the following corrections to your configuration files:

**1. `docusaurus/docusaurus.config.ts`**

I updated the `url`, `organizationName`, and added the recommended `trailingSlash` property.

```typescript
  // ...
  url: 'https://Azharkhan3310.github.io',
  baseUrl: '/physical-ai-and-humanoid-robotics/',

  organizationName: 'Azharkhan3310',
  projectName: 'physical-ai-and-humanoid-robotics',
  trailingSlash: false,
  // ...
```

**2. `.github/workflows/deploy.yml`**

I removed the conflicting `cname` property from the deployment step.

```yaml
# ...
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./docusaurus/build
# ...
```

### Deployment Commands

You do not need to run any special commands manually. The configured GitHub Actions workflow will automatically handle the deployment.

1.  **Commit and Push**: Commit the changes I have made to your `main` branch and push them to GitHub.
    ```bash
    git add .
    git commit -m "fix: correct docusaurus config for github pages"
    git push origin main
    ```
2.  **Monitor Workflow**: The push will automatically trigger the "Deploy Docusaurus to GitHub Pages" action. You can monitor its progress in the "Actions" tab of your GitHub repository.

### GitHub Pages Settings

For the deployment to work correctly, ensure your GitHub Pages settings are configured as follows:

1.  Navigate to your repository's **Settings** > **Pages**.
2.  Under "Build and deployment", set the **Source** to **GitHub Actions**.

### Correct GitHub Pages URL

Once the deployment workflow successfully completes, your site will be available at:

**https://Azharkhan3310.github.io/physical-ai-and-humanoid-robotics/**

### Final Verification Checklist

-   [x] **`docusaurus.config.ts` is correct**: `url`, `baseUrl`, `organizationName`, and `projectName` are all set for your repository.
-   [x] **GitHub Actions workflow is correct**: The `deploy.yml` file uses the standard `peaceiris/actions-gh-pages` action without a conflicting `cname`.
-   [ ] **Push changes to `main`**: Ensure the configuration fixes have been pushed to the `main` branch.
-   [ ] **Verify GitHub Pages source**: Confirm in your repository settings that the Pages source is "GitHub Actions".
-   [ ] **Check workflow status**: Wait for the GitHub Actions workflow to complete successfully after your push.
-   [ ] **Access the correct URL**: Your site should now be live and loading correctly at the URL provided above.

This completes the fix. Your Docusaurus site should now deploy and display correctly on GitHub Pages.
